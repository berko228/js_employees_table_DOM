{"version":3,"sources":["scripts/main.js"],"names":["lastIndex","innerText","body","document","tbody","querySelector","thead","direction","convertToNum","str","res","char","convertToMoney","money","Number","toLocaleString","checkValidation","e","target","value","length","tableNotification","closest","cellIndex","textContent","remove","info","push","createElement","title","p","className","setAttribute","append","setTimeout","formCreator","form","labelName","nameInput","name","type","minLength","labelPosition","position","labelOffice","office","innerHTML","labelAge","age","min","max","labelSalary","salary","button","addEventListener","preventDefault","tr","newGuy","index","sorted","querySelectorAll","sort","prev","next","a","cells","b","isNaN","localeCompare","reverse","rows","activeRow","onclick","children","tagName","classList","add","editor","key"],"mappings":"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","file":"main.e4d7ae66.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.body;\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nlet direction = true;\nlet lastIndex;\nlet innerText;\n\nfunction convertToNum(str) {\n  let res = '';\n\n  for (const char of str) {\n    if (char !== ',' && char !== '$') {\n      res += char;\n    }\n  }\n\n  return res;\n}\n\nfunction convertToMoney(str) {\n  const money = '$' + Number(str).toLocaleString('en');\n\n  return money;\n}\n\nconst checkValidation = (e) => {\n  if (!e.target.value.length) {\n    e.target.value = innerText;\n    tableNotification(false);\n\n    return;\n  }\n\n  switch (e.target.closest('td').cellIndex) {\n    case 0:\n    case 1:\n      if (e.target.value.length > 4) {\n        tableNotification(true);\n      } else {\n        if (e.target.value.length) {\n          tableNotification(false);\n\n          return;\n        }\n      }\n      break;\n\n    case 3:\n      if (e.target.value >= 18 && e.target.value < 90) {\n        tableNotification(true);\n      } else {\n        tableNotification(false);\n\n        return;\n      }\n      break;\n\n    case 4:\n      e.target.closest('td').textContent = convertToMoney(e.target.value);\n      tableNotification(true);\n      break;\n  }\n\n  e.target.closest('td').textContent = e.target.value;\n  e.target.remove();\n};\n\nfunction tableNotification(info) {\n  const push = document.createElement('div');\n  const title = document.createElement('h2');\n  const p = document.createElement('p');\n\n  push.className = 'notification success';\n  title.className = 'title';\n  title.innerText = 'Sucess!';\n  p.innerText = 'You have changed employer data';\n  push.setAttribute('data-qa', 'notification');\n\n  if (!info) {\n    push.className = 'notification error';\n    title.className = 'title';\n    title.innerText = 'Error!';\n    p.innerText = 'Please, enter valid data';\n  }\n\n  push.append(title, p);\n  body.append(push);\n\n  setTimeout(() => {\n    push.remove();\n  }, 2000);\n}\n\nthead.addEventListener('click', (e) => {\n  const index = e.target.cellIndex;\n\n  const trs = tbody.querySelectorAll('tr');\n  const sorted = [...trs].sort((prev, next) => {\n    const a = convertToNum(prev.cells[index].innerText);\n    const b = convertToNum(next.cells[index].innerText);\n\n    return isNaN(a)\n      ? a.localeCompare(b)\n      : a - b;\n  });\n\n  if (direction || lastIndex !== index) {\n    direction = !direction;\n  } else {\n    sorted.reverse();\n    direction = !direction;\n  }\n\n  lastIndex = index;\n\n  tbody.append(...sorted);\n});\n\ntbody.addEventListener('click', (e) => {\n  const rows = document.querySelectorAll('tr');\n  const activeRow = document.querySelector('.active');\n\n  for (const row of rows) {\n    row.onclick = function() {\n      if (this.children[0].tagName === 'TH') {\n        return;\n      }\n\n      if (activeRow) {\n        activeRow.classList.remove('active');\n      }\n\n      if (activeRow !== this) {\n        this.classList.add('active');\n      }\n    };\n  }\n});\n\ntbody.addEventListener('dblclick', (e) => {\n  innerText = e.target.innerText;\n\n  let editor;\n\n  switch (e.target.cellIndex) {\n    case 0:\n    case 1:\n      editor = document.createElement('input');\n      editor.type = 'text';\n      editor.value = e.target.innerText;\n      break;\n\n    case 2:\n      editor = document.createElement('select');\n\n      editor.innerHTML = `\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburg</option>\n      <option>San Francisco</option>\n    `;\n      editor.value = e.target.innerText;\n      editor.className = 'cell-input';\n      break;\n\n    case 3:\n      editor = document.createElement('input');\n      editor.type = 'number';\n      editor.value = e.target.innerText;\n      break;\n    case 4:\n\n      editor = document.createElement('input');\n      editor.value = convertToNum(e.target.innerText);\n      editor.type = 'number';\n      innerText = convertToNum(e.target.innerText);\n      break;\n  }\n\n  editor.className = 'cell-input';\n  e.target.innerText = '';\n  editor.addEventListener('blur', checkValidation);\n  e.target.append(editor);\n});\n\ntbody.addEventListener('keydown', (e) => {\n  if (e.key !== 'Enter') {\n    return;\n  }\n\n  checkValidation(e);\n});\n\nfunction formCreator() {\n  const form = document.createElement('form');\n\n  form.className = 'new-employee-form';\n\n  const labelName = document.createElement('label');\n\n  labelName.innerText = 'Name:';\n\n  const nameInput = document.createElement('input');\n\n  nameInput.name = 'name';\n  nameInput.type = 'text';\n  nameInput.minLength = 4;\n  nameInput.setAttribute('required', '');\n  nameInput.setAttribute('data-qa', 'name');\n  labelName.append(nameInput);\n\n  const labelPosition = document.createElement('label');\n\n  labelPosition.innerText = 'Position:';\n\n  const position = document.createElement('input');\n\n  position.minLength = 4;\n  position.name = 'position';\n  position.type = 'text';\n  position.setAttribute('required', '');\n  position.setAttribute('data-qa', 'position');\n  labelPosition.append(position);\n\n  const labelOffice = document.createElement('label');\n\n  labelOffice.innerText = 'Office:';\n\n  const office = document.createElement('select');\n\n  office.innerHTML = `\n  <option>Tokyo</option>\n  <option>Singapore</option>\n  <option>London</option>\n  <option>New York</option>\n  <option>Edinburg</option>\n  <option>San Francisco</option>\n  `;\n  office.setAttribute('required', '');\n  office.setAttribute('data-qa', 'office');\n  labelOffice.append(office);\n\n  const labelAge = document.createElement('label');\n\n  labelAge.innerText = 'Age:';\n\n  const age = document.createElement('input');\n\n  age.name = 'age';\n  age.type = 'number';\n  age.min = 18;\n  age.max = 90;\n  age.setAttribute('required', '');\n  age.setAttribute('data-qa', 'age');\n  labelAge.append(age);\n\n  const labelSalary = document.createElement('label');\n\n  labelSalary.innerText = 'Salary:';\n\n  const salary = document.createElement('input');\n\n  salary.name = 'salary';\n  salary.type = 'number';\n  salary.setAttribute('required', '');\n  salary.setAttribute('data-qa', 'salary');\n  labelSalary.append(salary);\n\n  const button = document.createElement('button');\n\n  button.type = 'submit';\n  button.innerText = 'Save to table';\n\n  button.addEventListener('click', (e) => {\n    if (\n      nameInput.value.length < 4\n          || position.value.length < 4\n          || office.value.length < 0\n          || age.value < 18\n          || age.value > 90\n          || salary.value < 0\n    ) {\n      const push = document.createElement('div');\n      const title = document.createElement('h2');\n      const p = document.createElement('p');\n\n      push.className = 'notification error';\n      title.className = 'title';\n      title.innerText = 'Error!';\n      p.innerText = 'Please, check information in the form';\n      push.setAttribute('data-qa', 'notification');\n      push.append(title, p);\n      body.append(push);\n\n      setTimeout(() => {\n        push.remove();\n      }, 2000);\n    } else {\n      const push = document.createElement('div');\n      const title = document.createElement('h2');\n      const p = document.createElement('p');\n\n      push.className = 'notification success';\n      title.className = 'title';\n      title.innerText = 'Sucess!';\n      p.innerText = 'New employer is already in the table';\n      push.setAttribute('data-qa', 'notification');\n      push.append(title, p);\n      body.append(push);\n\n      setTimeout(() => {\n        push.remove();\n      }, 2000);\n    }\n  });\n\n  function clearInputs() {\n    nameInput.value = '';\n    position.value = '';\n    office.value = '';\n    age.value = '';\n    salary.value = '';\n  }\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const tr = document.createElement('tr');\n    const newGuy = `\n      <td>${nameInput.value}</td>\n      <td>${position.value}</td>\n      <td>${office.value}</td>\n      <td>${age.value}</td>\n      <td>${convertToMoney(salary.value)}</td>\n    `;\n\n    tr.innerHTML = newGuy;\n\n    tbody.append(tr);\n    clearInputs();\n  });\n\n  form.append(\n    labelName,\n    labelPosition,\n    labelOffice,\n    labelAge,\n    labelSalary, button\n  );\n  body.append(form);\n}\n\nformCreator();\n"]}